<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- course_topic -->
<mapper namespace="com.duyi.onlinevideo.courseTopic">
    <!-- This code was generated by TableGo tools, mark 1 begin. -->
    <!-- 字段映射 -->
    <resultMap id="courseTopicMap" type="CourseTopic">
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="title" property="title" jdbcType="VARCHAR" />
        <result column="icon_url" property="iconUrl" jdbcType="VARCHAR" />
        <result column="intro_url" property="introUrl" jdbcType="VARCHAR" />
        <result column="topic_intro" property="topicIntro" jdbcType="VARCHAR" />
        <result column="views" property="views" jdbcType="INTEGER" />
        <result column="flag" property="flag" jdbcType="VARCHAR" />
        <result column="type_id" property="typeId" jdbcType="INTEGER" />
        <result column="vip_flag" property="vipFlag" jdbcType="INTEGER" />
        <result column="courseware_url" property="coursewareUrl" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    </resultMap>
    <!-- This code was generated by TableGo tools, mark 1 end. -->
    
    <!-- This code was generated by TableGo tools, mark 2 begin. -->
    <!-- 表查询字段 -->
    <sql id="allColumns">
        ct.id, ct.title, ct.icon_url, ct.intro_url, ct.topic_intro, ct.views, ct.flag, ct.type_id, 
        ct.vip_flag, ct.courseware_url, ct.create_time
    </sql>
    <!-- This code was generated by TableGo tools, mark 2 end. -->
    
    <!-- 查询所有数据 -->
    <select id="findCourseTopicAll" resultMap="courseTopicMap">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct
    </select>
    
    <!-- 根据条件参数查询数据列表 -->
    <select id="findCourseTopicByCondition" resultMap="courseTopicMap" parameterType="map">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct WHERE 1 = 1
        <if test="title != null and title != ''">
            AND ct.title LIKE CONCAT('%', #{title}, '%')
        </if>
        <if test="iconUrl != null and iconUrl != ''">
            AND ct.icon_url LIKE CONCAT('%', #{iconUrl}, '%')
        </if>
        <if test="introUrl != null and introUrl != ''">
            AND ct.intro_url LIKE CONCAT('%', #{introUrl}, '%')
        </if>
        <if test="topicIntro != null and topicIntro != ''">
            AND ct.topic_intro LIKE CONCAT('%', #{topicIntro}, '%')
        </if>
        <if test="views != null">
            AND ct.views = #{views}
        </if>
        <if test="flag != null">
            AND ct.flag = #{flag}
        </if>
        <if test="typeId != null">
            AND ct.type_id = #{typeId}
        </if>
        <if test="vipFlag != null">
            AND ct.vip_flag = #{vipFlag}
        </if>
        <if test="coursewareUrl != null and coursewareUrl != ''">
            AND ct.courseware_url LIKE CONCAT('%', #{coursewareUrl}, '%')
        </if>
        <if test="createTime != null">
            AND ct.create_time = #{createTime}
        </if>
    </select>
    
    <!-- 根据主键查询数据 -->
    <select id="findCourseTopicByIds" resultMap="courseTopicMap" parameterType="list">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct WHERE ct.id IN
        <foreach collection="list" index="index" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </select>
    
    <!-- 插入数据 -->
    <insert id="insertCourseTopic" parameterType="map">
        INSERT INTO course_topic (
            id, title, icon_url, intro_url, topic_intro, views, flag, type_id, 
            vip_flag, courseware_url, create_time
        ) VALUES (
            #{id},
            #{title},
            #{iconUrl},
            #{introUrl},
            #{topicIntro},
            #{views},
            #{flag},
            #{typeId},
            #{vipFlag},
            #{coursewareUrl},
            #{createTime}
        )
    </insert>
    
    <!-- 修改数据 -->
    <update id="updateCourseTopic" parameterType="map">
        UPDATE course_topic
        <set>
            <if test="title != null">
                title = #{title},
            </if>
            <if test="iconUrl != null">
                icon_url = #{iconUrl},
            </if>
            <if test="introUrl != null">
                intro_url = #{introUrl},
            </if>
            <if test="topicIntro != null">
                topic_intro = #{topicIntro},
            </if>
            <if test="views != null">
                views = #{views},
            </if>
            <if test="flag != null">
                flag = #{flag},
            </if>
            <if test="typeId != null">
                type_id = #{typeId},
            </if>
            <if test="vipFlag != null">
                vip_flag = #{vipFlag},
            </if>
            <if test="coursewareUrl != null">
                courseware_url = #{coursewareUrl},
            </if>
            <if test="createTime != null">
                create_time = #{createTime}
            </if>
        </set>
        WHERE id = #{id}
    </update>
    
    <!-- 批量修改数据 -->
    <update id="updateCourseTopics" parameterType="list">
        <foreach collection="list" index="index" item="item" separator=";">
            UPDATE course_topic
            <set>
                <if test="item.title != null">
                    title = #{item.title},
                </if>
                <if test="item.iconUrl != null">
                    icon_url = #{item.iconUrl},
                </if>
                <if test="item.introUrl != null">
                    intro_url = #{item.introUrl},
                </if>
                <if test="item.topicIntro != null">
                    topic_intro = #{item.topicIntro},
                </if>
                <if test="item.views != null">
                    views = #{item.views},
                </if>
                <if test="item.flag != null">
                    flag = #{item.flag},
                </if>
                <if test="item.typeId != null">
                    type_id = #{item.typeId},
                </if>
                <if test="item.vipFlag != null">
                    vip_flag = #{item.vipFlag},
                </if>
                <if test="item.coursewareUrl != null">
                    courseware_url = #{item.coursewareUrl},
                </if>
                <if test="item.createTime != null">
                    create_time = #{item.createTime}
                </if>
            </set>
            WHERE id = #{item.id}
        </foreach>
    </update>
    
    <!-- 根据主键删除数据 -->
    <delete id="deleteCourseTopicById" parameterType="int">
        DELETE FROM course_topic WHERE id = #{id}
    </delete>
    
    <!-- 根据主键批量删除数据 -->
    <delete id="deleteCourseTopicByIds" parameterType="list">
        DELETE FROM course_topic WHERE id IN
        <foreach collection="list" index="index" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>